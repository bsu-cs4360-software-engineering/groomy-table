{% extends 'base.html' %}

{% block head %}
    <title>Edit Customer</title>
{% endblock %}

{% block nav %}
    <li><a href="{{ url_for('dash.dashboard') }}">Dashboard</a></li>
    <li><a href="{{ url_for('auth.logout') }}">Logout</a></li>
{% endblock %}

{% block content %}
<section>
    <h2>Edit Customer</h2>
    <form method="POST">
        <label for="client">Name:</label>
        <input type="text" id="client" name="client" value="{{ customer.name }}">

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="{{ customer.email }}">

        <label for="number">Number:</label>
        <input type="tel" id="number" name="number" value="{{ customer.phone_number if customer.phone_number else 'No phone number available' }}">

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" value="{{ customer.places[0].address if customer.places else 'No address available' }}">

        <label>Notes:</label>
        {% for note in customer.note_links %}
            <textarea name="notes" rows="3" placeholder="Enter note">{{ note.note.content }}</textarea><br>
        {% endfor %}
        <textarea name="notes" rows="3" placeholder="New note"></textarea><br>

        <button type="submit">Save Changes</button>
    </form>
</section>
{% endblock %}